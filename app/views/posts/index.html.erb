<h1>Posts</h1>
<div class="well">
  <%= link_to "New Post", new_post_path, class: "btn btn-primary" %>
</div>

<% if flash[:notice] %>
    <div class="alert alert-success"><%= flash[:notice] %></div>
<% end %>

<table class="table table-bordered table-striped">
  <thead>
  <tr>
    <th>Title</th>
    <th>Text</th>
    <th>User</th>
    <th>&nbsp;</th>
    <th>&nbsp;</th>
  </tr>
  </thead>
  <tbody>
  <% if @posts.size == 0 %>
      <tr>
        <td colspan="6">No post found.</td>
      </tr>
  <% else %>
      <% @posts.each do |post| %>
          <tr>
            <td><%= post.title %></td>
            <td><%= post.content_text %></td>
            <td><%= post.user.name_with_initial %></td>
            <td>
              <%= link_to "Edit", edit_post_path(post), class: "btn btn-default" %>
            </td>
            <td>
              <%= button_to "Delete", post, method: :delete, data: { confirm: "Are you sure you wish to delete #{post.title}?" }, class: "btn btn-danger" %>
            </td>
          </tr>
      <% end %>
  <% end %>
  </tbody>
</table>